[gd_scene load_steps=14 format=2]

[ext_resource path="res://game/game.gd" type="Script" id=1]
[ext_resource path="res://game/player/player_ui.gd" type="Script" id=2]
[ext_resource path="res://game/script/camera.gd" type="Script" id=3]
[ext_resource path="res://sound/bgm/bgm_maoudamashii_orchestra24.ogg" type="AudioStream" id=4]
[ext_resource path="res://game/vfx/square.png" type="Texture" id=5]
[ext_resource path="res://game/map.tscn" type="PackedScene" id=6]
[ext_resource path="res://game/mothership.tscn" type="PackedScene" id=7]
[ext_resource path="res://game/battlefield.tscn" type="PackedScene" id=8]
[ext_resource path="res://game/ui.tscn" type="PackedScene" id=9]
[ext_resource path="res://game/script/nav/thanatos.gd" type="Script" id=10]
[ext_resource path="res://share/upgrade.gd" type="Script" id=11]
[ext_resource path="res://game/script/physics/world.gd" type="Script" id=12]

[sub_resource type="Animation" id=1]
resource_name = "fade-out"
length = 2.0
tracks/0/type = "value"
tracks/0/path = NodePath(".:volume_db")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ -10.0, -40.0 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 1.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}

[node name="game" type="Node2D"]
script = ExtResource( 1 )

[node name="Players" type="Node" parent="."]

[node name="Blue" type="Node" parent="Players"]
script = ExtResource( 2 )
mothership = NodePath("../../Mothership/Blue")
tile = NodePath("../../UI/Tile")
energy_bar = NodePath("../../UI/Energy")
hand1 = NodePath("../../UI/Hand1")
hand2 = NodePath("../../UI/Hand2")
hand3 = NodePath("../../UI/Hand3")
hand4 = NodePath("../../UI/Hand4")
next = NodePath("../../UI/Next")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Players/Blue"]
autoplay = true

[node name="Red" type="Node" parent="Players"]
script = ExtResource( 2 )
mothership = NodePath("../../Mothership/Red")
tile = NodePath("../../UI/Tile")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 540, 960 )
current = true
drag_margin_h_enabled = false
drag_margin_v_enabled = false
script = ExtResource( 3 )

[node name="BGM" type="AudioStreamPlayer" parent="."]
editor/display_folded = true
stream = ExtResource( 4 )
volume_db = -10.0
autoplay = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="BGM"]
anims/fade-out = SubResource( 1 )

[node name="LightSimulation" type="Node2D" parent="."]
editor/display_folded = true

[node name="CanvasModulate" type="CanvasModulate" parent="LightSimulation"]
color = Color( 0.8, 0.752941, 0.678431, 1 )

[node name="Light2D" type="Light2D" parent="LightSimulation"]
visible = false
position = Vector2( 540, 861.25 )
scale = Vector2( 3.2, 4 )
texture = ExtResource( 5 )
texture_scale = 50.0
color = Color( 1, 0.823529, 0.784314, 1 )
energy = 1.5
range_height = 20.0
range_item_cull_mask = 2
shadow_color = Color( 0, 0, 0, 0.00392157 )
shadow_filter = 2
shadow_filter_smooth = 4.0
shadow_item_cull_mask = 0

[node name="Map" parent="." instance=ExtResource( 6 )]

[node name="Mothership" parent="." instance=ExtResource( 7 )]

[node name="BattleField" parent="." instance=ExtResource( 8 )]

[node name="UI" parent="." instance=ExtResource( 9 )]

[node name="Resource" type="Node" parent="."]

[node name="Map" type="ResourcePreloader" parent="Resource"]
resources = [ PoolStringArray( "Thanatos" ), [ ExtResource( 10 ) ] ]

[node name="Upgrade" type="ResourcePreloader" parent="Resource"]
resources = [ PoolStringArray( "upgrade" ), [ ExtResource( 11 ) ] ]

[node name="Physics" type="ResourcePreloader" parent="Resource"]
resources = [ PoolStringArray( "world" ), [ ExtResource( 12 ) ] ]
